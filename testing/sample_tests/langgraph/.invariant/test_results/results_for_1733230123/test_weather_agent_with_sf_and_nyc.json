{"name": "test_weather_agent_with_sf_and_nyc", "trace": {"trace": [{"role": "user", "content": "what is the weather in sf"}, {"role": "assistant", "content": null, "tool_calls": [{"id": "call_sPIlgz85gUEQJkYtXwmAEVHT", "function": {"arguments": "{\"query\":\"weather in San Francisco\"}", "name": "_find_weather"}, "type": "function"}]}, {"role": "tool", "content": "It's 60 degrees and foggy.", "tool_call_id": "call_sPIlgz85gUEQJkYtXwmAEVHT"}, {"role": "assistant", "content": "The weather in San Francisco is currently 60 degrees and foggy."}, {"role": "user", "content": "what is the weather in nyc"}, {"role": "assistant", "content": null, "tool_calls": [{"id": "call_5O339epJ3rKjEal3Kuvpj9bM", "function": {"arguments": "{\"query\":\"weather in New York City\"}", "name": "_find_weather"}, "type": "function"}]}, {"role": "tool", "content": "It's 90 degrees and sunny.", "tool_call_id": "call_5O339epJ3rKjEal3Kuvpj9bM"}, {"role": "assistant", "content": "The weather in New York City is currently 90 degrees and sunny."}], "metadata": null, "manager": null}, "passed": false, "assertions": [{"passed": true, "type": "HARD", "addresses": [], "message": null, "test": "\n\n    trace = Trace.from_langgraph(invocation_response)\n\n    with trace.as_context():\n        find_weather_tool_calls = trace.tool_calls(name=\"_find_weather\")\n>       assert_true(len(find_weather_tool_calls) == 2)\n        find_weather_tool_call_args = F.map(\n            lambda x: x[\"function\"][\"arguments\"], find_weather_tool_calls\n        )\n        assert_true(len(F.match(\"San Francisco\", find_weather_tool_call_args)) == 1)\n", "test_line": 5}, {"passed": true, "type": "HARD", "addresses": [], "message": null, "test": "\n        find_weather_tool_calls = trace.tool_calls(name=\"_find_weather\")\n        assert_true(len(find_weather_tool_calls) == 2)\n        find_weather_tool_call_args = F.map(\n            lambda x: x[\"function\"][\"arguments\"], find_weather_tool_calls\n        )\n>       assert_true(len(F.match(\"San Francisco\", find_weather_tool_call_args)) == 1)\n        assert_true(len(F.match(\"New York City\", find_weather_tool_call_args)) == 1)\n\n        assert_true(len(trace.messages(role=\"tool\")) == 2)\n\n", "test_line": 5}, {"passed": true, "type": "HARD", "addresses": [], "message": null, "test": "\n        assert_true(len(find_weather_tool_calls) == 2)\n        find_weather_tool_call_args = F.map(\n            lambda x: x[\"function\"][\"arguments\"], find_weather_tool_calls\n        )\n        assert_true(len(F.match(\"San Francisco\", find_weather_tool_call_args)) == 1)\n>       assert_true(len(F.match(\"New York City\", find_weather_tool_call_args)) == 1)\n\n        assert_true(len(trace.messages(role=\"tool\")) == 2)\n\n        assistant_messages = trace.messages(role=\"assistant\")\n", "test_line": 5}, {"passed": true, "type": "HARD", "addresses": [], "message": null, "test": "\n            lambda x: x[\"function\"][\"arguments\"], find_weather_tool_calls\n        )\n        assert_true(len(F.match(\"San Francisco\", find_weather_tool_call_args)) == 1)\n        assert_true(len(F.match(\"New York City\", find_weather_tool_call_args)) == 1)\n\n>       assert_true(len(trace.messages(role=\"tool\")) == 2)\n\n        assistant_messages = trace.messages(role=\"assistant\")\n        print(\"assistant_messages: \", assistant_messages)\n        assert_true(len(assistant_messages) == 2)\n", "test_line": 5}, {"passed": false, "type": "HARD", "addresses": [], "message": null, "test": "\n\n        assert_true(len(trace.messages(role=\"tool\")) == 2)\n\n        assistant_messages = trace.messages(role=\"assistant\")\n        print(\"assistant_messages: \", assistant_messages)\n>       assert_true(len(assistant_messages) == 2)\n        assert_true(\"60 degrees and foggy\" in str(assistant_messages[0][\"content\"]))\n        assert_true(\"90 degrees and sunny\" in str(assistant_messages[1][\"content\"]))\n", "test_line": 5}, {"passed": false, "type": "HARD", "addresses": [], "message": null, "test": "\n        assert_true(len(trace.messages(role=\"tool\")) == 2)\n\n        assistant_messages = trace.messages(role=\"assistant\")\n        print(\"assistant_messages: \", assistant_messages)\n        assert_true(len(assistant_messages) == 2)\n>       assert_true(\"60 degrees and foggy\" in str(assistant_messages[0][\"content\"]))\n        assert_true(\"90 degrees and sunny\" in str(assistant_messages[1][\"content\"]))\n", "test_line": 5}, {"passed": false, "type": "HARD", "addresses": [], "message": null, "test": "\n\n        assistant_messages = trace.messages(role=\"assistant\")\n        print(\"assistant_messages: \", assistant_messages)\n        assert_true(len(assistant_messages) == 2)\n        assert_true(\"60 degrees and foggy\" in str(assistant_messages[0][\"content\"]))\n>       assert_true(\"90 degrees and sunny\" in str(assistant_messages[1][\"content\"]))\n", "test_line": 5}], "explorer_url": ""}